async function sendMessage(e){const t={messages:[{role:"user",content:e}],temperature:.7,top_p:.95,max_tokens:4096};try{const e=await fetch(endpoint,{method:"POST",headers:{"Content-Type":"application/json","api-key":apiKey},body:JSON.stringify(t)}),n=await e.json();if(e.ok)displayMessage(n.choices[0].message.content,"assistant");else{let message=n.error.message;if(message.includes('exceeded token rate limit')){message="Countdown initiated! Please hold for 17 seconds as we prepare for launch. The free version of the system is primed for takeoff. Stay tuned and get ready to engage!";}displayMessage(`Error: ${message}`,"assistant")}}catch(e){displayMessage(`Connection error: ${e.message}`,"assistant")}}function displayMessage(e,t){const n=document.createElement("div");n.className=`message ${t}`;const s=document.createElement("pre");s.style.whiteSpace="pre-wrap",s.style.wordWrap="break-word",s.textContent=e,n.appendChild(s),chatContainer.appendChild(n),chatContainer.scrollTop=chatContainer.scrollHeight}const chatContainer=document.getElementById("chat-container"),inputMessage=document.getElementById("input-message"),sendButton=document.getElementById("send-button");sendButton.addEventListener("click",()=>{const e=inputMessage.value.trim();e&&(displayMessage(e,"user"),sendMessage(e),inputMessage.value="")}),inputMessage.addEventListener("keypress",e=>{"Enter"===e.key&&sendButton.click()}),document.addEventListener("contextmenu",e=>{e.preventDefault()}),document.onkeydown=function(e){return"F12"===e.key||e.ctrlKey&&e.shiftKey&&"I"===e.key?!1:void 0};
